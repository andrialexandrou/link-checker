<h1>Link Checker Bookmarklet</h1>
<p>
  Drag the following link to your bookmarks bar:
  <a href="javascript:(function()%7B(function%20()%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20%2F**%0A%20%20%20*%20%40source%20%7Bhttps%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal_Objects%2FArray%2Ffrom%23Polyfill%7D%0A%20%20%20*%20but%20without%20thisArg%20(too%20hard%20to%20type%2C%20no%20need%20to%20%60this%60)%0A%20%20%20*%2F%0A%20%20var%20toStr%20%3D%20Object.prototype.toString%3B%0A%0A%20%20function%20isCallable(fn)%20%7B%0A%20%20%20%20return%20typeof%20fn%20%3D%3D%3D%20%22function%22%20%7C%7C%20toStr.call(fn)%20%3D%3D%3D%20%22%5Bobject%20Function%5D%22%3B%0A%20%20%7D%0A%0A%20%20function%20toInteger(value)%20%7B%0A%20%20%20%20var%20number%20%3D%20Number(value)%3B%0A%0A%20%20%20%20if%20(isNaN(number))%20%7B%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(number%20%3D%3D%3D%200%20%7C%7C%20!isFinite(number))%20%7B%0A%20%20%20%20%20%20return%20number%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20(number%20%3E%200%20%3F%201%20%3A%20-1)%20*%20Math.floor(Math.abs(number))%3B%0A%20%20%7D%0A%0A%20%20var%20maxSafeInteger%20%3D%20Math.pow(2%2C%2053)%20-%201%3B%0A%0A%20%20function%20toLength(value)%20%7B%0A%20%20%20%20var%20len%20%3D%20toInteger(value)%3B%0A%20%20%20%20return%20Math.min(Math.max(len%2C%200)%2C%20maxSafeInteger)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20Creates%20an%20array%20from%20an%20iterable%20object.%0A%20%20%20*%20%40param%20iterable%20An%20iterable%20object%20to%20convert%20to%20an%20array.%0A%20%20%20*%2F%0A%0A%20%20%2F**%0A%20%20%20*%20Creates%20an%20array%20from%20an%20iterable%20object.%0A%20%20%20*%20%40param%20iterable%20An%20iterable%20object%20to%20convert%20to%20an%20array.%0A%20%20%20*%20%40param%20mapfn%20A%20mapping%20function%20to%20call%20on%20every%20element%20of%20the%20array.%0A%20%20%20*%20%40param%20thisArg%20Value%20of%20'this'%20used%20to%20invoke%20the%20mapfn.%0A%20%20%20*%2F%0A%20%20function%20arrayFrom(arrayLike%2C%20mapFn)%20%7B%0A%20%20%20%20%2F%2F%201.%20Let%20C%20be%20the%20this%20value.%0A%20%20%20%20%2F%2F%20edit(%40eps1lon)%3A%20we're%20not%20calling%20it%20as%20Array.from%0A%20%20%20%20var%20C%20%3D%20Array%3B%20%2F%2F%202.%20Let%20items%20be%20ToObject(arrayLike).%0A%0A%20%20%20%20var%20items%20%3D%20Object(arrayLike)%3B%20%2F%2F%203.%20ReturnIfAbrupt(items).%0A%0A%20%20%20%20if%20(arrayLike%20%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20throw%20new%20TypeError(%0A%20%20%20%20%20%20%20%20%22Array.from%20requires%20an%20array-like%20object%20-%20not%20null%20or%20undefined%22%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%20%2F%2F%204.%20If%20mapfn%20is%20undefined%2C%20then%20let%20mapping%20be%20false.%0A%20%20%20%20%2F%2F%20const%20mapFn%20%3D%20arguments.length%20%3E%201%20%3F%20arguments%5B1%5D%20%3A%20void%20undefined%3B%0A%0A%20%20%20%20if%20(typeof%20mapFn%20!%3D%3D%20%22undefined%22)%20%7B%0A%20%20%20%20%20%20%2F%2F%205.%20else%0A%20%20%20%20%20%20%2F%2F%205.%20a%20If%20IsCallable(mapfn)%20is%20false%2C%20throw%20a%20TypeError%20exception.%0A%20%20%20%20%20%20if%20(!isCallable(mapFn))%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20TypeError(%0A%20%20%20%20%20%20%20%20%20%20%22Array.from%3A%20when%20provided%2C%20the%20second%20argument%20must%20be%20a%20function%22%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20%2F%2F%2010.%20Let%20lenValue%20be%20Get(items%2C%20%22length%22).%0A%20%20%20%20%2F%2F%2011.%20Let%20len%20be%20ToLength(lenValue).%0A%0A%20%20%20%20var%20len%20%3D%20toLength(items.length)%3B%20%2F%2F%2013.%20If%20IsConstructor(C)%20is%20true%2C%20then%0A%20%20%20%20%2F%2F%2013.%20a.%20Let%20A%20be%20the%20result%20of%20calling%20the%20%5B%5BConstruct%5D%5D%20internal%20method%0A%20%20%20%20%2F%2F%20of%20C%20with%20an%20argument%20list%20containing%20the%20single%20item%20len.%0A%20%20%20%20%2F%2F%2014.%20a.%20Else%2C%20Let%20A%20be%20ArrayCreate(len).%0A%0A%20%20%20%20var%20A%20%3D%20isCallable(C)%20%3F%20Object(new%20C(len))%20%3A%20new%20Array(len)%3B%20%2F%2F%2016.%20Let%20k%20be%200.%0A%0A%20%20%20%20var%20k%20%3D%200%3B%20%2F%2F%2017.%20Repeat%2C%20while%20k%20%3C%20len%E2%80%A6%20(also%20steps%20a%20-%20h)%0A%0A%20%20%20%20var%20kValue%3B%0A%0A%20%20%20%20while%20(k%20%3C%20len)%20%7B%0A%20%20%20%20%20%20kValue%20%3D%20items%5Bk%5D%3B%0A%0A%20%20%20%20%20%20if%20(mapFn)%20%7B%0A%20%20%20%20%20%20%20%20A%5Bk%5D%20%3D%20mapFn(kValue%2C%20k)%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20A%5Bk%5D%20%3D%20kValue%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20k%20%2B%3D%201%3B%0A%20%20%20%20%7D%20%2F%2F%2018.%20Let%20putStatus%20be%20Put(A%2C%20%22length%22%2C%20len%2C%20true).%0A%0A%20%20%20%20A.length%20%3D%20len%3B%20%2F%2F%2020.%20Return%20A.%0A%0A%20%20%20%20return%20A%3B%0A%20%20%7D%0A%0A%20%20function%20_classCallCheck(instance%2C%20Constructor)%20%7B%0A%20%20%20%20if%20(!(instance%20instanceof%20Constructor))%20%7B%0A%20%20%20%20%20%20throw%20new%20TypeError(%22Cannot%20call%20a%20class%20as%20a%20function%22)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20_defineProperties(target%2C%20props)%20%7B%0A%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20props.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20var%20descriptor%20%3D%20props%5Bi%5D%3B%0A%20%20%20%20%20%20descriptor.enumerable%20%3D%20descriptor.enumerable%20%7C%7C%20false%3B%0A%20%20%20%20%20%20descriptor.configurable%20%3D%20true%3B%0A%20%20%20%20%20%20if%20(%22value%22%20in%20descriptor)%20descriptor.writable%20%3D%20true%3B%0A%20%20%20%20%20%20Object.defineProperty(target%2C%20descriptor.key%2C%20descriptor)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20_createClass(Constructor%2C%20protoProps%2C%20staticProps)%20%7B%0A%20%20%20%20if%20(protoProps)%20_defineProperties(Constructor.prototype%2C%20protoProps)%3B%0A%20%20%20%20if%20(staticProps)%20_defineProperties(Constructor%2C%20staticProps)%3B%0A%20%20%20%20Object.defineProperty(Constructor%2C%20%22prototype%22%2C%20%7B%20writable%3A%20false%20%7D)%3B%0A%20%20%20%20return%20Constructor%3B%0A%20%20%7D%0A%0A%20%20function%20_defineProperty(obj%2C%20key%2C%20value)%20%7B%0A%20%20%20%20if%20(key%20in%20obj)%20%7B%0A%20%20%20%20%20%20Object.defineProperty(obj%2C%20key%2C%20%7B%0A%20%20%20%20%20%20%20%20value%3A%20value%2C%0A%20%20%20%20%20%20%20%20enumerable%3A%20true%2C%0A%20%20%20%20%20%20%20%20configurable%3A%20true%2C%0A%20%20%20%20%20%20%20%20writable%3A%20true%2C%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20obj%5Bkey%5D%20%3D%20value%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20obj%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20for%20environments%20without%20Set%20we%20fallback%20to%20arrays%20with%20unique%20members%0A%20%20var%20SetLike%20%3D%20%2F*%23__PURE__*%2F%20(function%20()%20%7B%0A%20%20%20%20function%20SetLike()%20%7B%0A%20%20%20%20%20%20var%20items%20%3D%0A%20%20%20%20%20%20%20%20arguments.length%20%3E%200%20%26%26%20arguments%5B0%5D%20!%3D%3D%20undefined%20%3F%20arguments%5B0%5D%20%3A%20%5B%5D%3B%0A%0A%20%20%20%20%20%20_classCallCheck(this%2C%20SetLike)%3B%0A%0A%20%20%20%20%20%20_defineProperty(this%2C%20%22items%22%2C%20void%200)%3B%0A%0A%20%20%20%20%20%20this.items%20%3D%20items%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20_createClass(SetLike%2C%20%5B%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20key%3A%20%22add%22%2C%0A%20%20%20%20%20%20%20%20value%3A%20function%20add(value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20(this.has(value)%20%3D%3D%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.items.push(value)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20key%3A%20%22clear%22%2C%0A%20%20%20%20%20%20%20%20value%3A%20function%20clear()%20%7B%0A%20%20%20%20%20%20%20%20%20%20this.items%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20key%3A%20%22delete%22%2C%0A%20%20%20%20%20%20%20%20value%3A%20function%20_delete(value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20previousLength%20%3D%20this.items.length%3B%0A%20%20%20%20%20%20%20%20%20%20this.items%20%3D%20this.items.filter(function%20(item)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20item%20!%3D%3D%20value%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20previousLength%20!%3D%3D%20this.items.length%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20key%3A%20%22forEach%22%2C%0A%20%20%20%20%20%20%20%20value%3A%20function%20forEach(callbackfn)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20_this%20%3D%20this%3B%0A%0A%20%20%20%20%20%20%20%20%20%20this.items.forEach(function%20(item)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20callbackfn(item%2C%20item%2C%20_this)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20key%3A%20%22has%22%2C%0A%20%20%20%20%20%20%20%20value%3A%20function%20has(value)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20this.items.indexOf(value)%20!%3D%3D%20-1%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20key%3A%20%22size%22%2C%0A%20%20%20%20%20%20%20%20get%3A%20function%20get()%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20this.items.length%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%5D)%3B%0A%0A%20%20%20%20return%20SetLike%3B%0A%20%20%7D)()%3B%0A%0A%20%20var%20SetLike%241%20%3D%20typeof%20Set%20%3D%3D%3D%20%22undefined%22%20%3F%20Set%20%3A%20SetLike%3B%0A%0A%20%20%2F%2F%20https%3A%2F%2Fw3c.github.io%2Fhtml-aria%2F%23document-conformance-requirements-for-use-of-aria-attributes-in-html%0A%0A%20%20%2F**%0A%20%20%20*%20Safe%20Element.localName%20for%20all%20supported%20environments%0A%20%20%20*%20%40param%20element%0A%20%20%20*%2F%0A%20%20function%20getLocalName(element)%20%7B%0A%20%20%20%20var%20_element%24localName%3B%0A%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20no-restricted-properties%20--%20actual%20guard%20for%20environments%20without%20localName%0A%20%20%20%20%20%20(_element%24localName%20%3D%20element.localName)%20!%3D%3D%20null%20%26%26%0A%20%20%20%20%20%20%20%20_element%24localName%20!%3D%3D%20void%200%0A%20%20%20%20%20%20%20%20%3F%20_element%24localName%20%2F%2F%20eslint-disable-next-line%20no-restricted-properties%20--%20required%20for%20the%20fallback%0A%20%20%20%20%20%20%20%20%3A%20element.tagName.toLowerCase()%0A%20%20%20%20)%3B%0A%20%20%7D%0A%20%20var%20localNameToRoleMappings%20%3D%20%7B%0A%20%20%20%20article%3A%20%22article%22%2C%0A%20%20%20%20aside%3A%20%22complementary%22%2C%0A%20%20%20%20button%3A%20%22button%22%2C%0A%20%20%20%20datalist%3A%20%22listbox%22%2C%0A%20%20%20%20dd%3A%20%22definition%22%2C%0A%20%20%20%20details%3A%20%22group%22%2C%0A%20%20%20%20dialog%3A%20%22dialog%22%2C%0A%20%20%20%20dt%3A%20%22term%22%2C%0A%20%20%20%20fieldset%3A%20%22group%22%2C%0A%20%20%20%20figure%3A%20%22figure%22%2C%0A%20%20%20%20%2F%2F%20WARNING%3A%20Only%20with%20an%20accessible%20name%0A%20%20%20%20form%3A%20%22form%22%2C%0A%20%20%20%20footer%3A%20%22contentinfo%22%2C%0A%20%20%20%20h1%3A%20%22heading%22%2C%0A%20%20%20%20h2%3A%20%22heading%22%2C%0A%20%20%20%20h3%3A%20%22heading%22%2C%0A%20%20%20%20h4%3A%20%22heading%22%2C%0A%20%20%20%20h5%3A%20%22heading%22%2C%0A%20%20%20%20h6%3A%20%22heading%22%2C%0A%20%20%20%20header%3A%20%22banner%22%2C%0A%20%20%20%20hr%3A%20%22separator%22%2C%0A%20%20%20%20html%3A%20%22document%22%2C%0A%20%20%20%20legend%3A%20%22legend%22%2C%0A%20%20%20%20li%3A%20%22listitem%22%2C%0A%20%20%20%20math%3A%20%22math%22%2C%0A%20%20%20%20main%3A%20%22main%22%2C%0A%20%20%20%20menu%3A%20%22list%22%2C%0A%20%20%20%20nav%3A%20%22navigation%22%2C%0A%20%20%20%20ol%3A%20%22list%22%2C%0A%20%20%20%20optgroup%3A%20%22group%22%2C%0A%20%20%20%20%2F%2F%20WARNING%3A%20Only%20in%20certain%20context%0A%20%20%20%20option%3A%20%22option%22%2C%0A%20%20%20%20output%3A%20%22status%22%2C%0A%20%20%20%20progress%3A%20%22progressbar%22%2C%0A%20%20%20%20%2F%2F%20WARNING%3A%20Only%20with%20an%20accessible%20name%0A%20%20%20%20section%3A%20%22region%22%2C%0A%20%20%20%20summary%3A%20%22button%22%2C%0A%20%20%20%20table%3A%20%22table%22%2C%0A%20%20%20%20tbody%3A%20%22rowgroup%22%2C%0A%20%20%20%20textarea%3A%20%22textbox%22%2C%0A%20%20%20%20tfoot%3A%20%22rowgroup%22%2C%0A%20%20%20%20%2F%2F%20WARNING%3A%20Only%20in%20certain%20context%0A%20%20%20%20td%3A%20%22cell%22%2C%0A%20%20%20%20th%3A%20%22columnheader%22%2C%0A%20%20%20%20thead%3A%20%22rowgroup%22%2C%0A%20%20%20%20tr%3A%20%22row%22%2C%0A%20%20%20%20ul%3A%20%22list%22%2C%0A%20%20%7D%3B%0A%20%20var%20prohibitedAttributes%20%3D%20%7B%0A%20%20%20%20caption%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%20%20code%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%20%20deletion%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%20%20emphasis%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%20%20generic%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%2C%20%22aria-roledescription%22%5D)%2C%0A%20%20%20%20insertion%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%20%20paragraph%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%20%20presentation%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%20%20strong%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%20%20subscript%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%20%20superscript%3A%20new%20Set(%5B%22aria-label%22%2C%20%22aria-labelledby%22%5D)%2C%0A%20%20%7D%3B%0A%20%20%2F**%0A%20%20%20*%0A%20%20%20*%20%40param%20element%0A%20%20%20*%20%40param%20role%20The%20role%20used%20for%20this%20element.%20This%20is%20specified%20to%20control%20whether%20you%20want%20to%20use%20the%20implicit%20or%20explicit%20role.%0A%20%20%20*%2F%0A%0A%20%20function%20hasGlobalAriaAttributes(element%2C%20role)%20%7B%0A%20%20%20%20%2F%2F%20https%3A%2F%2Frawgit.com%2Fw3c%2Faria%2Fstable%2F%23global_states%0A%20%20%20%20%2F%2F%20commented%20attributes%20are%20deprecated%0A%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%22aria-atomic%22%2C%0A%20%20%20%20%20%20%22aria-busy%22%2C%0A%20%20%20%20%20%20%22aria-controls%22%2C%0A%20%20%20%20%20%20%22aria-current%22%2C%0A%20%20%20%20%20%20%22aria-describedby%22%2C%0A%20%20%20%20%20%20%22aria-details%22%2C%20%2F%2F%20%22disabled%22%2C%0A%20%20%20%20%20%20%22aria-dropeffect%22%2C%20%2F%2F%20%22errormessage%22%2C%0A%20%20%20%20%20%20%22aria-flowto%22%2C%0A%20%20%20%20%20%20%22aria-grabbed%22%2C%20%2F%2F%20%22haspopup%22%2C%0A%20%20%20%20%20%20%22aria-hidden%22%2C%20%2F%2F%20%22invalid%22%2C%0A%20%20%20%20%20%20%22aria-keyshortcuts%22%2C%0A%20%20%20%20%20%20%22aria-label%22%2C%0A%20%20%20%20%20%20%22aria-labelledby%22%2C%0A%20%20%20%20%20%20%22aria-live%22%2C%0A%20%20%20%20%20%20%22aria-owns%22%2C%0A%20%20%20%20%20%20%22aria-relevant%22%2C%0A%20%20%20%20%20%20%22aria-roledescription%22%2C%0A%20%20%20%20%5D.some(function%20(attributeName)%20%7B%0A%20%20%20%20%20%20var%20_prohibitedAttributes%3B%0A%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20element.hasAttribute(attributeName)%20%26%26%0A%20%20%20%20%20%20%20%20!(%0A%20%20%20%20%20%20%20%20%20%20(_prohibitedAttributes%20%3D%20prohibitedAttributes%5Brole%5D)%20!%3D%3D%20null%20%26%26%0A%20%20%20%20%20%20%20%20%20%20_prohibitedAttributes%20!%3D%3D%20void%200%20%26%26%0A%20%20%20%20%20%20%20%20%20%20_prohibitedAttributes.has(attributeName)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%0A%20%20function%20ignorePresentationalRole(element%2C%20implicitRole)%20%7B%0A%20%20%20%20%2F%2F%20https%3A%2F%2Frawgit.com%2Fw3c%2Faria%2Fstable%2F%23conflict_resolution_presentation_none%0A%20%20%20%20return%20hasGlobalAriaAttributes(element%2C%20implicitRole)%3B%0A%20%20%7D%0A%0A%20%20function%20getRole(element)%20%7B%0A%20%20%20%20var%20explicitRole%20%3D%20getExplicitRole(element)%3B%0A%0A%20%20%20%20if%20(explicitRole%20%3D%3D%3D%20null%20%7C%7C%20explicitRole%20%3D%3D%3D%20%22presentation%22)%20%7B%0A%20%20%20%20%20%20var%20implicitRole%20%3D%20getImplicitRole(element)%3B%0A%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20explicitRole%20!%3D%3D%20%22presentation%22%20%7C%7C%0A%20%20%20%20%20%20%20%20ignorePresentationalRole(element%2C%20implicitRole%20%7C%7C%20%22%22)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20return%20implicitRole%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20explicitRole%3B%0A%20%20%7D%0A%0A%20%20function%20getImplicitRole(element)%20%7B%0A%20%20%20%20var%20mappedByTag%20%3D%20localNameToRoleMappings%5BgetLocalName(element)%5D%3B%0A%0A%20%20%20%20if%20(mappedByTag%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20return%20mappedByTag%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20switch%20(getLocalName(element))%20%7B%0A%20%20%20%20%20%20case%20%22a%22%3A%0A%20%20%20%20%20%20case%20%22area%22%3A%0A%20%20%20%20%20%20case%20%22link%22%3A%0A%20%20%20%20%20%20%20%20if%20(element.hasAttribute(%22href%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%22link%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20%22img%22%3A%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20element.getAttribute(%22alt%22)%20%3D%3D%3D%20%22%22%20%26%26%0A%20%20%20%20%20%20%20%20%20%20!ignorePresentationalRole(element%2C%20%22img%22)%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%22presentation%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20%22img%22%3B%0A%0A%20%20%20%20%20%20case%20%22input%22%3A%20%7B%0A%20%20%20%20%20%20%20%20var%20_ref%20%3D%20element%2C%0A%20%20%20%20%20%20%20%20%20%20type%20%3D%20_ref.type%3B%0A%0A%20%20%20%20%20%20%20%20switch%20(type)%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22button%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22image%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22reset%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22submit%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22button%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20case%20%22checkbox%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22radio%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20type%3B%0A%0A%20%20%20%20%20%20%20%20%20%20case%20%22range%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22slider%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20case%20%22email%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22tel%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22text%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22url%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(element.hasAttribute(%22list%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22combobox%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22textbox%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20case%20%22search%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(element.hasAttribute(%22list%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%22combobox%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22searchbox%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20case%20%22number%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%22spinbutton%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20case%20%22select%22%3A%0A%20%20%20%20%20%20%20%20if%20(element.hasAttribute(%22multiple%22)%20%7C%7C%20element.size%20%3E%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%22listbox%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20%22combobox%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%0A%20%20function%20getExplicitRole(element)%20%7B%0A%20%20%20%20var%20role%20%3D%20element.getAttribute(%22role%22)%3B%0A%0A%20%20%20%20if%20(role%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20var%20explicitRole%20%3D%20role.trim().split(%22%20%22)%5B0%5D%3B%20%2F%2F%20String.prototype.split(sep%2C%20limit)%20will%20always%20return%20an%20array%20with%20at%20least%20one%20member%0A%20%20%20%20%20%20%2F%2F%20as%20long%20as%20limit%20is%20either%20undefined%20or%20%3E%200%0A%0A%20%20%20%20%20%20if%20(explicitRole.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20explicitRole%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%0A%20%20function%20isElement(node)%20%7B%0A%20%20%20%20return%20node%20!%3D%3D%20null%20%26%26%20node.nodeType%20%3D%3D%3D%20node.ELEMENT_NODE%3B%0A%20%20%7D%0A%20%20function%20isHTMLTableCaptionElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22caption%22%3B%0A%20%20%7D%0A%20%20function%20isHTMLInputElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22input%22%3B%0A%20%20%7D%0A%20%20function%20isHTMLOptGroupElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22optgroup%22%3B%0A%20%20%7D%0A%20%20function%20isHTMLSelectElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22select%22%3B%0A%20%20%7D%0A%20%20function%20isHTMLTableElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22table%22%3B%0A%20%20%7D%0A%20%20function%20isHTMLTextAreaElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22textarea%22%3B%0A%20%20%7D%0A%20%20function%20safeWindow(node)%20%7B%0A%20%20%20%20var%20_ref%20%3D%20node.ownerDocument%20%3D%3D%3D%20null%20%3F%20node%20%3A%20node.ownerDocument%2C%0A%20%20%20%20%20%20defaultView%20%3D%20_ref.defaultView%3B%0A%0A%20%20%20%20if%20(defaultView%20%3D%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20throw%20new%20TypeError(%22no%20window%20available%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20defaultView%3B%0A%20%20%7D%0A%20%20function%20isHTMLFieldSetElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22fieldset%22%3B%0A%20%20%7D%0A%20%20function%20isHTMLLegendElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22legend%22%3B%0A%20%20%7D%0A%20%20function%20isHTMLSlotElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22slot%22%3B%0A%20%20%7D%0A%20%20function%20isSVGElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20node.ownerSVGElement%20!%3D%3D%20undefined%3B%0A%20%20%7D%0A%20%20function%20isSVGSVGElement(node)%20%7B%0A%20%20%20%20return%20isElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22svg%22%3B%0A%20%20%7D%0A%20%20function%20isSVGTitleElement(node)%20%7B%0A%20%20%20%20return%20isSVGElement(node)%20%26%26%20getLocalName(node)%20%3D%3D%3D%20%22title%22%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%0A%20%20%20*%20%40param%20%7BNode%7D%20node%20-%0A%20%20%20*%20%40param%20%7Bstring%7D%20attributeName%20-%0A%20%20%20*%20%40returns%20%7BElement%5B%5D%7D%20-%0A%20%20%20*%2F%0A%0A%20%20function%20queryIdRefs(node%2C%20attributeName)%20%7B%0A%20%20%20%20if%20(isElement(node)%20%26%26%20node.hasAttribute(attributeName))%20%7B%0A%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20%40typescript-eslint%2Fno-non-null-assertion%20--%20safe%20due%20to%20hasAttribute%20check%0A%20%20%20%20%20%20var%20ids%20%3D%20node.getAttribute(attributeName).split(%22%20%22)%3B%20%2F%2F%20Browsers%20that%20don't%20support%20shadow%20DOM%20won't%20have%20getRootNode%0A%0A%20%20%20%20%20%20var%20root%20%3D%20node.getRootNode%20%3F%20node.getRootNode()%20%3A%20node.ownerDocument%3B%0A%20%20%20%20%20%20return%20ids%0A%20%20%20%20%20%20%20%20.map(function%20(id)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20root.getElementById(id)%3B%0A%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20.filter(%0A%20%20%20%20%20%20%20%20%20%20function%20(element)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20element%20!%3D%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20%2F%2F%20TODO%3A%20why%20does%20this%20not%20narrow%3F%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%5B%5D%3B%0A%20%20%7D%0A%20%20function%20hasAnyConcreteRoles(node%2C%20roles)%20%7B%0A%20%20%20%20if%20(isElement(node))%20%7B%0A%20%20%20%20%20%20return%20roles.indexOf(getRole(node))%20!%3D%3D%20-1%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20implements%20https%3A%2F%2Fw3c.github.io%2Faccname%2F%0A%20%20%20*%2F%0A%20%20%2F**%0A%20%20%20*%20%20A%20string%20of%20characters%20where%20all%20carriage%20returns%2C%20newlines%2C%20tabs%2C%20and%20form-feeds%20are%20replaced%20with%20a%20single%20space%2C%20and%20multiple%20spaces%20are%20reduced%20to%20a%20single%20space.%20The%20string%20contains%20only%20character%20data%3B%20it%20does%20not%20contain%20any%20markup.%0A%20%20%20*%2F%0A%0A%20%20%2F**%0A%20%20%20*%0A%20%20%20*%20%40param%20%7Bstring%7D%20string%20-%0A%20%20%20*%20%40returns%20%7BFlatString%7D%20-%0A%20%20%20*%2F%0A%20%20function%20asFlatString(s)%20%7B%0A%20%20%20%20return%20s.trim().replace(%2F%5Cs%5Cs%2B%2Fg%2C%20%22%20%22)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%0A%20%20%20*%20%40param%20node%20-%0A%20%20%20*%20%40param%20options%20-%20These%20are%20not%20optional%20to%20prevent%20accidentally%20calling%20it%20without%20options%20in%20%60computeAccessibleName%60%0A%20%20%20*%20%40returns%20%7Bboolean%7D%20-%0A%20%20%20*%2F%0A%0A%20%20function%20isHidden%241(node%2C%20getComputedStyleImplementation)%20%7B%0A%20%20%20%20if%20(!isElement(node))%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(%0A%20%20%20%20%20%20node.hasAttribute(%22hidden%22)%20%7C%7C%0A%20%20%20%20%20%20node.getAttribute(%22aria-hidden%22)%20%3D%3D%3D%20%22true%22%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20style%20%3D%20getComputedStyleImplementation(node)%3B%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20style.getPropertyValue(%22display%22)%20%3D%3D%3D%20%22none%22%20%7C%7C%0A%20%20%20%20%20%20style.getPropertyValue(%22visibility%22)%20%3D%3D%3D%20%22hidden%22%0A%20%20%20%20)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20%40param%20%7BNode%7D%20node%20-%0A%20%20%20*%20%40returns%20%7Bboolean%7D%20-%20As%20defined%20in%20step%202E%20of%20https%3A%2F%2Fw3c.github.io%2Faccname%2F%23mapping_additional_nd_te%0A%20%20%20*%2F%0A%0A%20%20function%20isControl(node)%20%7B%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20hasAnyConcreteRoles(node%2C%20%5B%22button%22%2C%20%22combobox%22%2C%20%22listbox%22%2C%20%22textbox%22%5D)%20%7C%7C%0A%20%20%20%20%20%20hasAbstractRole(node%2C%20%22range%22)%0A%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20function%20hasAbstractRole(node%2C%20role)%20%7B%0A%20%20%20%20if%20(!isElement(node))%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20switch%20(role)%20%7B%0A%20%20%20%20%20%20case%20%22range%22%3A%0A%20%20%20%20%20%20%20%20return%20hasAnyConcreteRoles(node%2C%20%5B%0A%20%20%20%20%20%20%20%20%20%20%22meter%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22progressbar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22scrollbar%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22slider%22%2C%0A%20%20%20%20%20%20%20%20%20%20%22spinbutton%22%2C%0A%20%20%20%20%20%20%20%20%5D)%3B%0A%0A%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20throw%20new%20TypeError(%0A%20%20%20%20%20%20%20%20%20%20%22No%20knowledge%20about%20abstract%20role%20'%22.concat(%0A%20%20%20%20%20%20%20%20%20%20%20%20role%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22'.%20This%20is%20likely%20a%20bug%20%3A(%22%0A%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20element.querySelectorAll%20but%20also%20considers%20owned%20tree%0A%20%20%20*%20%40param%20element%0A%20%20%20*%20%40param%20selectors%0A%20%20%20*%2F%0A%0A%20%20function%20querySelectorAllSubtree(element%2C%20selectors)%20%7B%0A%20%20%20%20var%20elements%20%3D%20arrayFrom(element.querySelectorAll(selectors))%3B%0A%20%20%20%20queryIdRefs(element%2C%20%22aria-owns%22).forEach(function%20(root)%20%7B%0A%20%20%20%20%20%20%2F%2F%20babel%20transpiles%20this%20assuming%20an%20iterator%0A%20%20%20%20%20%20elements.push.apply(%0A%20%20%20%20%20%20%20%20elements%2C%0A%20%20%20%20%20%20%20%20arrayFrom(root.querySelectorAll(selectors))%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20elements%3B%0A%20%20%7D%0A%0A%20%20function%20querySelectedOptions(listbox)%20%7B%0A%20%20%20%20if%20(isHTMLSelectElement(listbox))%20%7B%0A%20%20%20%20%20%20%2F%2F%20IE11%20polyfill%0A%20%20%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20listbox.selectedOptions%20%7C%7C%0A%20%20%20%20%20%20%20%20querySelectorAllSubtree(listbox%2C%20%22%5Bselected%5D%22)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20querySelectorAllSubtree(listbox%2C%20'%5Baria-selected%3D%22true%22%5D')%3B%0A%20%20%7D%0A%0A%20%20function%20isMarkedPresentational(node)%20%7B%0A%20%20%20%20return%20hasAnyConcreteRoles(node%2C%20%5B%22none%22%2C%20%22presentation%22%5D)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20Elements%20specifically%20listed%20in%20html-aam%0A%20%20%20*%0A%20%20%20*%20We%20don't%20need%20this%20for%20%60label%60%20or%20%60legend%60%20elements.%0A%20%20%20*%20Their%20implicit%20roles%20already%20allow%20%22naming%20from%20content%22.%0A%20%20%20*%0A%20%20%20*%20sources%3A%0A%20%20%20*%0A%20%20%20*%20-%20https%3A%2F%2Fw3c.github.io%2Fhtml-aam%2F%23table-element%0A%20%20%20*%2F%0A%0A%20%20function%20isNativeHostLanguageTextAlternativeElement(node)%20%7B%0A%20%20%20%20return%20isHTMLTableCaptionElement(node)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20https%3A%2F%2Fw3c.github.io%2Faria%2F%23namefromcontent%0A%20%20%20*%2F%0A%0A%20%20function%20allowsNameFromContent(node)%20%7B%0A%20%20%20%20return%20hasAnyConcreteRoles(node%2C%20%5B%0A%20%20%20%20%20%20%22button%22%2C%0A%20%20%20%20%20%20%22cell%22%2C%0A%20%20%20%20%20%20%22checkbox%22%2C%0A%20%20%20%20%20%20%22columnheader%22%2C%0A%20%20%20%20%20%20%22gridcell%22%2C%0A%20%20%20%20%20%20%22heading%22%2C%0A%20%20%20%20%20%20%22label%22%2C%0A%20%20%20%20%20%20%22legend%22%2C%0A%20%20%20%20%20%20%22link%22%2C%0A%20%20%20%20%20%20%22menuitem%22%2C%0A%20%20%20%20%20%20%22menuitemcheckbox%22%2C%0A%20%20%20%20%20%20%22menuitemradio%22%2C%0A%20%20%20%20%20%20%22option%22%2C%0A%20%20%20%20%20%20%22radio%22%2C%0A%20%20%20%20%20%20%22row%22%2C%0A%20%20%20%20%20%20%22rowheader%22%2C%0A%20%20%20%20%20%20%22switch%22%2C%0A%20%20%20%20%20%20%22tab%22%2C%0A%20%20%20%20%20%20%22tooltip%22%2C%0A%20%20%20%20%20%20%22treeitem%22%2C%0A%20%20%20%20%5D)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20TODO%20https%3A%2F%2Fgithub.com%2Feps1lon%2Fdom-accessibility-api%2Fissues%2F100%0A%20%20%20*%2F%0A%0A%20%20function%20isDescendantOfNativeHostLanguageTextAlternativeElement(node)%20%7B%0A%20%20%20%20%2F%2F%20eslint-disable-next-line%20%40typescript-eslint%2Fno-unused-vars%20--%20not%20implemented%20yet%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%0A%20%20function%20getValueOfTextbox(element)%20%7B%0A%20%20%20%20if%20(isHTMLInputElement(element)%20%7C%7C%20isHTMLTextAreaElement(element))%20%7B%0A%20%20%20%20%20%20return%20element.value%3B%0A%20%20%20%20%7D%20%2F%2F%20https%3A%2F%2Fgithub.com%2Feps1lon%2Fdom-accessibility-api%2Fissues%2F4%0A%0A%20%20%20%20return%20element.textContent%20%7C%7C%20%22%22%3B%0A%20%20%7D%0A%0A%20%20function%20getTextualContent(declaration)%20%7B%0A%20%20%20%20var%20content%20%3D%20declaration.getPropertyValue(%22content%22)%3B%0A%0A%20%20%20%20if%20(%2F%5E%5B%22'%5D.*%5B%22'%5D%24%2F.test(content))%20%7B%0A%20%20%20%20%20%20return%20content.slice(1%2C%20-1)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%22%22%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fforms.html%23category-label%0A%20%20%20*%20TODO%3A%20form-associated%20custom%20elements%0A%20%20%20*%20%40param%20element%0A%20%20%20*%2F%0A%0A%20%20function%20isLabelableElement(element)%20%7B%0A%20%20%20%20var%20localName%20%3D%20getLocalName(element)%3B%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20localName%20%3D%3D%3D%20%22button%22%20%7C%7C%0A%20%20%20%20%20%20(localName%20%3D%3D%3D%20%22input%22%20%26%26%20element.getAttribute(%22type%22)%20!%3D%3D%20%22hidden%22)%20%7C%7C%0A%20%20%20%20%20%20localName%20%3D%3D%3D%20%22meter%22%20%7C%7C%0A%20%20%20%20%20%20localName%20%3D%3D%3D%20%22output%22%20%7C%7C%0A%20%20%20%20%20%20localName%20%3D%3D%3D%20%22progress%22%20%7C%7C%0A%20%20%20%20%20%20localName%20%3D%3D%3D%20%22select%22%20%7C%7C%0A%20%20%20%20%20%20localName%20%3D%3D%3D%20%22textarea%22%0A%20%20%20%20)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20%3E%20%5B...%5D%2C%20then%20the%20first%20such%20descendant%20in%20tree%20order%20is%20the%20label%20element's%20labeled%20control.%0A%20%20%20*%20--%20https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fforms.html%23labeled-control%0A%20%20%20*%20%40param%20element%0A%20%20%20*%2F%0A%0A%20%20function%20findLabelableElement(element)%20%7B%0A%20%20%20%20if%20(isLabelableElement(element))%20%7B%0A%20%20%20%20%20%20return%20element%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20labelableElement%20%3D%20null%3B%0A%20%20%20%20element.childNodes.forEach(function%20(childNode)%20%7B%0A%20%20%20%20%20%20if%20(labelableElement%20%3D%3D%3D%20null%20%26%26%20isElement(childNode))%20%7B%0A%20%20%20%20%20%20%20%20var%20descendantLabelableElement%20%3D%20findLabelableElement(childNode)%3B%0A%0A%20%20%20%20%20%20%20%20if%20(descendantLabelableElement%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20labelableElement%20%3D%20descendantLabelableElement%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D)%3B%0A%20%20%20%20return%20labelableElement%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20Polyfill%20of%20HTMLLabelElement.control%0A%20%20%20*%20https%3A%2F%2Fhtml.spec.whatwg.org%2Fmultipage%2Fforms.html%23labeled-control%0A%20%20%20*%20%40param%20label%0A%20%20%20*%2F%0A%0A%20%20function%20getControlOfLabel(label)%20%7B%0A%20%20%20%20if%20(label.control%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20return%20label.control%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20htmlFor%20%3D%20label.getAttribute(%22for%22)%3B%0A%0A%20%20%20%20if%20(htmlFor%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20return%20label.ownerDocument.getElementById(htmlFor)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20findLabelableElement(label)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20Polyfill%20of%20HTMLInputElement.labels%0A%20%20%20*%20https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FHTMLInputElement%2Flabels%0A%20%20%20*%20%40param%20element%0A%20%20%20*%2F%0A%0A%20%20function%20getLabels(element)%20%7B%0A%20%20%20%20var%20labelsProperty%20%3D%20element.labels%3B%0A%0A%20%20%20%20if%20(labelsProperty%20%3D%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20return%20labelsProperty%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(labelsProperty%20!%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20return%20arrayFrom(labelsProperty)%3B%0A%20%20%20%20%7D%20%2F%2F%20polyfill%0A%0A%20%20%20%20if%20(!isLabelableElement(element))%20%7B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20document%20%3D%20element.ownerDocument%3B%0A%20%20%20%20return%20arrayFrom(document.querySelectorAll(%22label%22)).filter(function%20(%0A%20%20%20%20%20%20label%0A%20%20%20%20)%20%7B%0A%20%20%20%20%20%20return%20getControlOfLabel(label)%20%3D%3D%3D%20element%3B%0A%20%20%20%20%7D)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20Gets%20the%20contents%20of%20a%20slot%20used%20for%20computing%20the%20accname%0A%20%20%20*%20%40param%20slot%0A%20%20%20*%2F%0A%0A%20%20function%20getSlotContents(slot)%20%7B%0A%20%20%20%20%2F%2F%20Computing%20the%20accessible%20name%20for%20elements%20containing%20slots%20is%20not%0A%20%20%20%20%2F%2F%20currently%20defined%20in%20the%20spec.%20This%20implementation%20reflects%20the%0A%20%20%20%20%2F%2F%20behavior%20of%20NVDA%202020.2%2FFirefox%2081%20and%20iOS%20VoiceOver%2FSafari%2013.6.%0A%20%20%20%20var%20assignedNodes%20%3D%20slot.assignedNodes()%3B%0A%0A%20%20%20%20if%20(assignedNodes.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%2F%2F%20if%20no%20nodes%20are%20assigned%20to%20the%20slot%2C%20it%20displays%20the%20default%20content%0A%20%20%20%20%20%20return%20arrayFrom(slot.childNodes)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20assignedNodes%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20implements%20https%3A%2F%2Fw3c.github.io%2Faccname%2F%23mapping_additional_nd_te%0A%20%20%20*%20%40param%20root%0A%20%20%20*%20%40param%20options%0A%20%20%20*%20%40returns%0A%20%20%20*%2F%0A%0A%20%20function%20computeTextAlternative(root)%20%7B%0A%20%20%20%20var%20options%20%3D%0A%20%20%20%20%20%20arguments.length%20%3E%201%20%26%26%20arguments%5B1%5D%20!%3D%3D%20undefined%20%3F%20arguments%5B1%5D%20%3A%20%7B%7D%3B%0A%20%20%20%20var%20consultedNodes%20%3D%20new%20SetLike%241()%3B%0A%20%20%20%20var%20window%20%3D%20safeWindow(root)%3B%0A%20%20%20%20var%20_options%24compute%20%3D%20options.compute%2C%0A%20%20%20%20%20%20compute%20%3D%20_options%24compute%20%3D%3D%3D%20void%200%20%3F%20%22name%22%20%3A%20_options%24compute%2C%0A%20%20%20%20%20%20_options%24computedStyl%20%3D%20options.computedStyleSupportsPseudoElements%2C%0A%20%20%20%20%20%20computedStyleSupportsPseudoElements%20%3D%0A%20%20%20%20%20%20%20%20_options%24computedStyl%20%3D%3D%3D%20void%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20options.getComputedStyle%20!%3D%3D%20undefined%0A%20%20%20%20%20%20%20%20%20%20%3A%20_options%24computedStyl%2C%0A%20%20%20%20%20%20_options%24getComputedS%20%3D%20options.getComputedStyle%2C%0A%20%20%20%20%20%20getComputedStyle%20%3D%0A%20%20%20%20%20%20%20%20_options%24getComputedS%20%3D%3D%3D%20void%200%0A%20%20%20%20%20%20%20%20%20%20%3F%20window.getComputedStyle.bind(window)%0A%20%20%20%20%20%20%20%20%20%20%3A%20_options%24getComputedS%2C%0A%20%20%20%20%20%20_options%24hidden%20%3D%20options.hidden%2C%0A%20%20%20%20%20%20hidden%20%3D%20_options%24hidden%20%3D%3D%3D%20void%200%20%3F%20false%20%3A%20_options%24hidden%3B%20%2F%2F%202F.i%0A%0A%20%20%20%20function%20computeMiscTextAlternative(node%2C%20context)%20%7B%0A%20%20%20%20%20%20var%20accumulatedText%20%3D%20%22%22%3B%0A%0A%20%20%20%20%20%20if%20(isElement(node)%20%26%26%20computedStyleSupportsPseudoElements)%20%7B%0A%20%20%20%20%20%20%20%20var%20pseudoBefore%20%3D%20getComputedStyle(node%2C%20%22%3A%3Abefore%22)%3B%0A%20%20%20%20%20%20%20%20var%20beforeContent%20%3D%20getTextualContent(pseudoBefore)%3B%0A%20%20%20%20%20%20%20%20accumulatedText%20%3D%20%22%22.concat(beforeContent%2C%20%22%20%22).concat(accumulatedText)%3B%0A%20%20%20%20%20%20%7D%20%2F%2F%20FIXME%3A%20Including%20aria-owns%20is%20not%20defined%20in%20the%20spec%0A%20%20%20%20%20%20%2F%2F%20But%20it%20is%20required%20in%20the%20web-platform-test%0A%0A%20%20%20%20%20%20var%20childNodes%20%3D%20isHTMLSlotElement(node)%0A%20%20%20%20%20%20%20%20%3F%20getSlotContents(node)%0A%20%20%20%20%20%20%20%20%3A%20arrayFrom(node.childNodes).concat(queryIdRefs(node%2C%20%22aria-owns%22))%3B%0A%20%20%20%20%20%20childNodes.forEach(function%20(child)%20%7B%0A%20%20%20%20%20%20%20%20var%20result%20%3D%20computeTextAlternative(child%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20context.isEmbeddedInLabel%2C%0A%20%20%20%20%20%20%20%20%20%20isReferenced%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20recursion%3A%20true%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%20%2F%2F%20TODO%3A%20Unclear%20why%20display%20affects%20delimiter%0A%20%20%20%20%20%20%20%20%2F%2F%20see%20https%3A%2F%2Fgithub.com%2Fw3c%2Faccname%2Fissues%2F3%0A%0A%20%20%20%20%20%20%20%20var%20display%20%3D%20isElement(child)%0A%20%20%20%20%20%20%20%20%20%20%3F%20getComputedStyle(child).getPropertyValue(%22display%22)%0A%20%20%20%20%20%20%20%20%20%20%3A%20%22inline%22%3B%0A%20%20%20%20%20%20%20%20var%20separator%20%3D%20display%20!%3D%3D%20%22inline%22%20%3F%20%22%20%22%20%3A%20%22%22%3B%20%2F%2F%20trailing%20separator%20for%20wpt%20tests%0A%0A%20%20%20%20%20%20%20%20accumulatedText%20%2B%3D%20%22%22%0A%20%20%20%20%20%20%20%20%20%20.concat(separator)%0A%20%20%20%20%20%20%20%20%20%20.concat(result)%0A%20%20%20%20%20%20%20%20%20%20.concat(separator)%3B%0A%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20if%20(isElement(node)%20%26%26%20computedStyleSupportsPseudoElements)%20%7B%0A%20%20%20%20%20%20%20%20var%20pseudoAfter%20%3D%20getComputedStyle(node%2C%20%22%3A%3Aafter%22)%3B%0A%20%20%20%20%20%20%20%20var%20afterContent%20%3D%20getTextualContent(pseudoAfter)%3B%0A%20%20%20%20%20%20%20%20accumulatedText%20%3D%20%22%22.concat(accumulatedText%2C%20%22%20%22).concat(afterContent)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20accumulatedText.trim()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20computeElementTextAlternative(node)%20%7B%0A%20%20%20%20%20%20if%20(!isElement(node))%20%7B%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F**%0A%20%20%20%20%20%20%20*%0A%20%20%20%20%20%20%20*%20%40param%20element%0A%20%20%20%20%20%20%20*%20%40param%20attributeName%0A%20%20%20%20%20%20%20*%20%40returns%20A%20string%20non-empty%20string%20or%20%60null%60%0A%20%20%20%20%20%20%20*%2F%0A%0A%20%20%20%20%20%20function%20useAttribute(element%2C%20attributeName)%20%7B%0A%20%20%20%20%20%20%20%20var%20attribute%20%3D%20element.getAttributeNode(attributeName)%3B%0A%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20attribute%20!%3D%3D%20null%20%26%26%0A%20%20%20%20%20%20%20%20%20%20!consultedNodes.has(attribute)%20%26%26%0A%20%20%20%20%20%20%20%20%20%20attribute.value.trim()%20!%3D%3D%20%22%22%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20consultedNodes.add(attribute)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20attribute.value%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%7D%20%2F%2F%20https%3A%2F%2Fw3c.github.io%2Fhtml-aam%2F%23fieldset-and-legend-elements%0A%0A%20%20%20%20%20%20if%20(isHTMLFieldSetElement(node))%20%7B%0A%20%20%20%20%20%20%20%20consultedNodes.add(node)%3B%0A%20%20%20%20%20%20%20%20var%20children%20%3D%20arrayFrom(node.childNodes)%3B%0A%0A%20%20%20%20%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20children.length%3B%20i%20%2B%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20child%20%3D%20children%5Bi%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(isHTMLLegendElement(child))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20computeTextAlternative(child%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20isReferenced%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20recursion%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20(isHTMLTableElement(node))%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fw3c.github.io%2Fhtml-aam%2F%23table-element%0A%20%20%20%20%20%20%20%20consultedNodes.add(node)%3B%0A%0A%20%20%20%20%20%20%20%20var%20_children%20%3D%20arrayFrom(node.childNodes)%3B%0A%0A%20%20%20%20%20%20%20%20for%20(var%20_i%20%3D%200%3B%20_i%20%3C%20_children.length%3B%20_i%20%2B%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20_child%20%3D%20_children%5B_i%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(isHTMLTableCaptionElement(_child))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20computeTextAlternative(_child%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20isReferenced%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20recursion%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20(isSVGSVGElement(node))%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2Fsvg-aam-1.0%2F%0A%20%20%20%20%20%20%20%20consultedNodes.add(node)%3B%0A%0A%20%20%20%20%20%20%20%20var%20_children2%20%3D%20arrayFrom(node.childNodes)%3B%0A%0A%20%20%20%20%20%20%20%20for%20(var%20_i2%20%3D%200%3B%20_i2%20%3C%20_children2.length%3B%20_i2%20%2B%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20_child2%20%3D%20_children2%5B_i2%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(isSVGTitleElement(_child2))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20_child2.textContent%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%7D%20else%20if%20(%0A%20%20%20%20%20%20%20%20getLocalName(node)%20%3D%3D%3D%20%22img%22%20%7C%7C%0A%20%20%20%20%20%20%20%20getLocalName(node)%20%3D%3D%3D%20%22area%22%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fw3c.github.io%2Fhtml-aam%2F%23area-element%0A%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fw3c.github.io%2Fhtml-aam%2F%23img-element%0A%20%20%20%20%20%20%20%20var%20nameFromAlt%20%3D%20useAttribute(node%2C%20%22alt%22)%3B%0A%0A%20%20%20%20%20%20%20%20if%20(nameFromAlt%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20nameFromAlt%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20(isHTMLOptGroupElement(node))%20%7B%0A%20%20%20%20%20%20%20%20var%20nameFromLabel%20%3D%20useAttribute(node%2C%20%22label%22)%3B%0A%0A%20%20%20%20%20%20%20%20if%20(nameFromLabel%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20nameFromLabel%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20isHTMLInputElement(node)%20%26%26%0A%20%20%20%20%20%20%20%20(node.type%20%3D%3D%3D%20%22button%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20node.type%20%3D%3D%3D%20%22submit%22%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20node.type%20%3D%3D%3D%20%22reset%22)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fw3c.github.io%2Fhtml-aam%2F%23input-type-text-input-type-password-input-type-search-input-type-tel-input-type-email-input-type-url-and-textarea-element-accessible-description-computation%0A%20%20%20%20%20%20%20%20var%20nameFromValue%20%3D%20useAttribute(node%2C%20%22value%22)%3B%0A%0A%20%20%20%20%20%20%20%20if%20(nameFromValue%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20nameFromValue%3B%0A%20%20%20%20%20%20%20%20%7D%20%2F%2F%20TODO%3A%20l10n%0A%0A%20%20%20%20%20%20%20%20if%20(node.type%20%3D%3D%3D%20%22submit%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%22Submit%22%3B%0A%20%20%20%20%20%20%20%20%7D%20%2F%2F%20TODO%3A%20l10n%0A%0A%20%20%20%20%20%20%20%20if%20(node.type%20%3D%3D%3D%20%22reset%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%22Reset%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20labels%20%3D%20getLabels(node)%3B%0A%0A%20%20%20%20%20%20if%20(labels%20!%3D%3D%20null%20%26%26%20labels.length%20!%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20consultedNodes.add(node)%3B%0A%20%20%20%20%20%20%20%20return%20arrayFrom(labels)%0A%20%20%20%20%20%20%20%20%20%20.map(function%20(element)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20computeTextAlternative(element%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20isReferenced%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20recursion%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20.filter(function%20(label)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20label.length%20%3E%200%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20.join(%22%20%22)%3B%0A%20%20%20%20%20%20%7D%20%2F%2F%20https%3A%2F%2Fw3c.github.io%2Fhtml-aam%2F%23input-type-image-accessible-name-computation%0A%20%20%20%20%20%20%2F%2F%20TODO%3A%20wpt%20test%20consider%20label%20elements%20but%20html-aam%20does%20not%20mention%20them%0A%20%20%20%20%20%20%2F%2F%20We%20follow%20existing%20implementations%20over%20spec%0A%0A%20%20%20%20%20%20if%20(isHTMLInputElement(node)%20%26%26%20node.type%20%3D%3D%3D%20%22image%22)%20%7B%0A%20%20%20%20%20%20%20%20var%20_nameFromAlt%20%3D%20useAttribute(node%2C%20%22alt%22)%3B%0A%0A%20%20%20%20%20%20%20%20if%20(_nameFromAlt%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20_nameFromAlt%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20var%20nameFromTitle%20%3D%20useAttribute(node%2C%20%22title%22)%3B%0A%0A%20%20%20%20%20%20%20%20if%20(nameFromTitle%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20nameFromTitle%3B%0A%20%20%20%20%20%20%20%20%7D%20%2F%2F%20TODO%3A%20l10n%0A%0A%20%20%20%20%20%20%20%20return%20%22Submit%20Query%22%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(hasAnyConcreteRoles(node%2C%20%5B%22button%22%5D))%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fwww.w3.org%2FTR%2Fhtml-aam-1.0%2F%23button-element%0A%20%20%20%20%20%20%20%20var%20nameFromSubTree%20%3D%20computeMiscTextAlternative(node%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20isReferenced%3A%20false%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20if%20(nameFromSubTree%20!%3D%3D%20%22%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20nameFromSubTree%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20useAttribute(node%2C%20%22title%22)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20useAttribute(node%2C%20%22title%22)%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20computeTextAlternative(current%2C%20context)%20%7B%0A%20%20%20%20%20%20if%20(consultedNodes.has(current))%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%20%2F%2F%202A%0A%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!hidden%20%26%26%0A%20%20%20%20%20%20%20%20isHidden%241(current%2C%20getComputedStyle)%20%26%26%0A%20%20%20%20%20%20%20%20!context.isReferenced%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%20%2F%2F%202B%0A%0A%20%20%20%20%20%20var%20labelElements%20%3D%20queryIdRefs(current%2C%20%22aria-labelledby%22)%3B%0A%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20compute%20%3D%3D%3D%20%22name%22%20%26%26%0A%20%20%20%20%20%20%20%20!context.isReferenced%20%26%26%0A%20%20%20%20%20%20%20%20labelElements.length%20%3E%200%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20return%20labelElements%0A%20%20%20%20%20%20%20%20%20%20.map(function%20(element)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20computeTextAlternative(element%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20context.isEmbeddedInLabel%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20isReferenced%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20thais%20isn't%20recursion%20as%20specified%2C%20otherwise%20we%20would%20skip%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%60aria-label%60%20in%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%3Cinput%20id%3D%22myself%22%20aria-label%3D%22foo%22%20aria-labelledby%3D%22myself%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20recursion%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20.join(%22%20%22)%3B%0A%20%20%20%20%20%20%7D%20%2F%2F%202C%0A%20%20%20%20%20%20%2F%2F%20Changed%20from%20the%20spec%20in%20anticipation%20of%20https%3A%2F%2Fgithub.com%2Fw3c%2Faccname%2Fissues%2F64%0A%20%20%20%20%20%20%2F%2F%20spec%20says%20we%20should%20only%20consider%20skipping%20if%20we%20have%20a%20non-empty%20label%0A%0A%20%20%20%20%20%20var%20skipToStep2E%20%3D%0A%20%20%20%20%20%20%20%20context.recursion%20%26%26%20isControl(current)%20%26%26%20compute%20%3D%3D%3D%20%22name%22%3B%0A%0A%20%20%20%20%20%20if%20(!skipToStep2E)%20%7B%0A%20%20%20%20%20%20%20%20var%20ariaLabel%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20(isElement(current)%20%26%26%20current.getAttribute(%22aria-label%22))%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%22%22%0A%20%20%20%20%20%20%20%20).trim()%3B%0A%0A%20%20%20%20%20%20%20%20if%20(ariaLabel%20!%3D%3D%20%22%22%20%26%26%20compute%20%3D%3D%3D%20%22name%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20ariaLabel%3B%0A%20%20%20%20%20%20%20%20%7D%20%2F%2F%202D%0A%0A%20%20%20%20%20%20%20%20if%20(!isMarkedPresentational(current))%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20elementTextAlternative%20%3D%20computeElementTextAlternative(current)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(elementTextAlternative%20!%3D%3D%20null)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20elementTextAlternative%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20%2F%2F%20special%20casing%2C%20cheating%20to%20make%20tests%20pass%0A%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fgithub.com%2Fw3c%2Faccname%2Fissues%2F67%0A%0A%20%20%20%20%20%20if%20(hasAnyConcreteRoles(current%2C%20%5B%22menu%22%5D))%20%7B%0A%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%20%2F%2F%202E%0A%0A%20%20%20%20%20%20if%20(skipToStep2E%20%7C%7C%20context.isEmbeddedInLabel%20%7C%7C%20context.isReferenced)%20%7B%0A%20%20%20%20%20%20%20%20if%20(hasAnyConcreteRoles(current%2C%20%5B%22combobox%22%2C%20%22listbox%22%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20%20%20%20%20var%20selectedOptions%20%3D%20querySelectedOptions(current)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(selectedOptions.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20defined%20per%20test%20%60name_heading_combobox%60%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20isHTMLInputElement(current)%20%3F%20current.value%20%3A%20%22%22%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20return%20arrayFrom(selectedOptions)%0A%20%20%20%20%20%20%20%20%20%20%20%20.map(function%20(selectedOption)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20computeTextAlternative(selectedOption%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20context.isEmbeddedInLabel%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isReferenced%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20recursion%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20%20%20%20%20.join(%22%20%22)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20(hasAbstractRole(current%2C%20%22range%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(current.hasAttribute(%22aria-valuetext%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20%40typescript-eslint%2Fno-non-null-assertion%20--%20safe%20due%20to%20hasAttribute%20guard%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20current.getAttribute(%22aria-valuetext%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20if%20(current.hasAttribute(%22aria-valuenow%22))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20eslint-disable-next-line%20%40typescript-eslint%2Fno-non-null-assertion%20--%20safe%20due%20to%20hasAttribute%20guard%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20current.getAttribute(%22aria-valuenow%22)%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20%2F%2F%20Otherwise%2C%20use%20the%20value%20as%20specified%20by%20a%20host%20language%20attribute.%0A%0A%20%20%20%20%20%20%20%20%20%20return%20current.getAttribute(%22value%22)%20%7C%7C%20%22%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20(hasAnyConcreteRoles(current%2C%20%5B%22textbox%22%5D))%20%7B%0A%20%20%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20%20%20%20%20return%20getValueOfTextbox(current)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20%2F%2F%202F%3A%20https%3A%2F%2Fw3c.github.io%2Faccname%2F%23step2F%0A%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20allowsNameFromContent(current)%20%7C%7C%0A%20%20%20%20%20%20%20%20(isElement(current)%20%26%26%20context.isReferenced)%20%7C%7C%0A%20%20%20%20%20%20%20%20isNativeHostLanguageTextAlternativeElement(current)%20%7C%7C%0A%20%20%20%20%20%20%20%20isDescendantOfNativeHostLanguageTextAlternativeElement()%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20%20%20return%20computeMiscTextAlternative(current%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20context.isEmbeddedInLabel%2C%0A%20%20%20%20%20%20%20%20%20%20isReferenced%3A%20false%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(current.nodeType%20%3D%3D%3D%20current.TEXT_NODE)%20%7B%0A%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20%20%20return%20current.textContent%20%7C%7C%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(context.recursion)%20%7B%0A%20%20%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20%20%20return%20computeMiscTextAlternative(current%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20context.isEmbeddedInLabel%2C%0A%20%20%20%20%20%20%20%20%20%20isReferenced%3A%20false%2C%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20consultedNodes.add(current)%3B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20asFlatString(%0A%20%20%20%20%20%20computeTextAlternative(root%2C%20%7B%0A%20%20%20%20%20%20%20%20isEmbeddedInLabel%3A%20false%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20by%20spec%20computeAccessibleDescription%20starts%20with%20the%20referenced%20elements%20as%20roots%0A%20%20%20%20%20%20%20%20isReferenced%3A%20compute%20%3D%3D%3D%20%22description%22%2C%0A%20%20%20%20%20%20%20%20recursion%3A%20false%2C%0A%20%20%20%20%20%20%7D)%0A%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20https%3A%2F%2Fw3c.github.io%2Faria%2F%23namefromprohibited%0A%20%20%20*%2F%0A%0A%20%20function%20prohibitsNaming(node)%20%7B%0A%20%20%20%20return%20hasAnyConcreteRoles(node%2C%20%5B%0A%20%20%20%20%20%20%22caption%22%2C%0A%20%20%20%20%20%20%22code%22%2C%0A%20%20%20%20%20%20%22deletion%22%2C%0A%20%20%20%20%20%20%22emphasis%22%2C%0A%20%20%20%20%20%20%22generic%22%2C%0A%20%20%20%20%20%20%22insertion%22%2C%0A%20%20%20%20%20%20%22paragraph%22%2C%0A%20%20%20%20%20%20%22presentation%22%2C%0A%20%20%20%20%20%20%22strong%22%2C%0A%20%20%20%20%20%20%22subscript%22%2C%0A%20%20%20%20%20%20%22superscript%22%2C%0A%20%20%20%20%5D)%3B%0A%20%20%7D%0A%20%20%2F**%0A%20%20%20*%20implements%20https%3A%2F%2Fw3c.github.io%2Faccname%2F%23mapping_additional_nd_name%0A%20%20%20*%20%40param%20root%0A%20%20%20*%20%40param%20options%0A%20%20%20*%20%40returns%0A%20%20%20*%2F%0A%0A%20%20function%20computeAccessibleName(root)%20%7B%0A%20%20%20%20var%20options%20%3D%0A%20%20%20%20%20%20arguments.length%20%3E%201%20%26%26%20arguments%5B1%5D%20!%3D%3D%20undefined%20%3F%20arguments%5B1%5D%20%3A%20%7B%7D%3B%0A%0A%20%20%20%20if%20(prohibitsNaming(root))%20%7B%0A%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20computeTextAlternative(root%2C%20options)%3B%0A%20%20%7D%0A%0A%20%20let%20array%20%3D%20%5B%5D%3B%0A%20%20const%20allLinks%20%3D%20document.querySelectorAll(%22a%5Bhref%5D%22)%3B%0A%0A%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20allLinks.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20const%20linkElement%20%3D%20allLinks%5Bi%5D%3B%0A%20%20%20%20if%20(isHidden(linkElement))%20continue%3B%0A%20%20%20%20const%20accessibleName%20%3D%0A%20%20%20%20%20%20computeAccessibleName(linkElement)%20%26%26%0A%20%20%20%20%20%20computeAccessibleName(linkElement).name%3B%0A%0A%20%20%20%20%2F%2F%20Get%20visual%20label%2C%20excluding%20screen%20reader%20only%20text.%0A%20%20%20%20const%20visibleLabel%20%3D%20fetchVisibleLabel(linkElement)%3B%0A%0A%20%20%20%20const%20cleanVisibleLabel%20%3D%20stripAndDowncaseText(visibleLabel)%3B%0A%20%20%20%20const%20cleanAccessibleName%20%3D%20stripAndDowncaseText(accessibleName)%3B%0A%0A%20%20%20%20let%20visibleLabelColumnData%20%3D%20%60%3Ci%3E(same%20as%20accessible%20name)%3C%2Fi%3E%60%3B%0A%20%20%20%20if%20(!cleanVisibleLabel)%20%7B%0A%20%20%20%20%20%20const%20text%20%3D%0A%20%20%20%20%20%20%20%20linkElement.querySelector(%22img%22)%20%7C%7C%20linkElement.querySelector(%22svg%22)%0A%20%20%20%20%20%20%20%20%20%20%3F%20%22graphic-only%22%0A%20%20%20%20%20%20%20%20%20%20%3A%20%22no%20visible%20label%22%3B%0A%20%20%20%20%20%20visibleLabelColumnData%20%3D%20%60%3Ci%3E(%24%7Btext%7D)%3C%2Fi%3E%60%3B%0A%20%20%20%20%7D%20else%20if%20(cleanVisibleLabel%20%26%26%20cleanVisibleLabel%20!%3D%3D%20cleanAccessibleName)%20%7B%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20linkElement.querySelector(%22svg%22)%20%7C%7C%0A%20%20%20%20%20%20%20%20linkElement.querySelector(%22img%22)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20visibleLabelColumnData%20%3D%20%60%3Cb%3E%24%7BvisibleLabel%7D%3C%2Fb%3E%20%3Ci%3E(and%20graphic)%3C%2Fi%3E%60%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20visibleLabelColumnData%20%3D%20%60%3Cb%3E%24%7BvisibleLabel%7D%3C%2Fb%3E%60%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20array.push(%5B%0A%20%20%20%20%20%20accessibleName%2C%0A%20%20%20%20%20%20visibleLabelColumnData%2C%0A%20%20%20%20%20%20giveRecommendation(cleanVisibleLabel%2C%20cleanAccessibleName%2C%20linkElement)%2C%0A%20%20%20%20%20%20linkElement%2C%0A%20%20%20%20%5D)%3B%0A%20%20%7D%0A%0A%20%20function%20removePunctuationAndEmoji(text)%20%7B%0A%20%20%20%20return%20text%0A%20%20%20%20%20%20.replace(%2F%5B.%2C%2F%23!%24%25%5E%26*%3B%3A%7B%7D%3D-_%60~()%2B-%5D%2Fg%2C%20%22%22)%0A%20%20%20%20%20%20.replace(%2Fs%7B2%2C%7D%2Fg%2C%20%22%20%22)%0A%20%20%20%20%20%20.replace(%0A%20%20%20%20%20%20%20%20%2F(%5B%5Cu2700-%5Cu27BF%5D%7C%5B%5CuE000-%5CuF8FF%5D%7C%5CuD83C%5B%5CuDC00-%5CuDFFF%5D%7C%5CuD83D%5B%5CuDC00-%5CuDFFF%5D%7C%5B%5Cu2011-%5Cu26FF%5D%7C%5CuD83E%5B%5CuDD10-%5CuDDFF%5D)%2Fg%2C%0A%20%20%20%20%20%20%20%20%22%22%0A%20%20%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20function%20fetchVisibleLabel(element)%20%7B%0A%20%20%20%20const%20clonedLink%20%3D%20element.cloneNode(true)%3B%0A%20%20%20%20element.insertAdjacentElement(%22afterend%22%2C%20clonedLink)%3B%0A%20%20%20%20removeVisuallyHiddenElements(clonedLink)%3B%0A%20%20%20%20const%20visibleLabel%20%3D%20clonedLink.innerText%3B%0A%20%20%20%20clonedLink.remove()%3B%0A%0A%20%20%20%20return%20visibleLabel%3B%0A%20%20%7D%0A%0A%20%20%2F*%20Determines%20if%20link%20is%20visually%20hidden%20but%20accessible%20by%20screen%20readers.%20*%2F%0A%20%20function%20removeVisuallyHiddenElements(el)%20%7B%0A%20%20%20%20if%20(isScreenReaderOnly(el))%20%7B%0A%20%20%20%20%20%20el.remove()%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(el.childNodes.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20for%20(let%20child%20in%20el.childNodes)%20%7B%0A%20%20%20%20%20%20%20%20if%20(el.childNodes%5Bchild%5D.nodeType%20%3D%3D%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20removeVisuallyHiddenElements(el.childNodes%5Bchild%5D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F*%20Determines%20if%20link%20is%20visually%20hidden%20but%20accessible%20by%20screen%20readers.%20*%2F%0A%20%20function%20isScreenReaderOnly(element)%20%7B%0A%20%20%20%20const%20computedStyle%20%3D%20window.getComputedStyle(element)%3B%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20computedStyle.height%20%3D%3D%3D%20%221px%22%20%26%26%0A%20%20%20%20%20%20computedStyle.position%20%3D%3D%3D%20%22absolute%22%20%26%26%0A%20%20%20%20%20%20computedStyle.clip%20%3D%3D%3D%20%22rect(0px%2C%200px%2C%200px%2C%200px)%22%0A%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20%2F*%20Determines%20if%20link%20is%20visually%20hidden%20and%20not%20accessible%20by%20screen%20readers.%20*%2F%0A%20%20function%20isHidden(element)%20%7B%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20!element.offsetWidth%20%7C%7C%0A%20%20%20%20%20%20!element.offsetHeight%20%7C%7C%0A%20%20%20%20%20%20!element.getClientRects().length%20%7C%7C%0A%20%20%20%20%20%20window.getComputedStyle(element).visibility%20%3D%3D%3D%20%22hidden%22%20%7C%7C%0A%20%20%20%20%20%20window.getComputedStyle(element).display%20%3D%3D%3D%20%22none%22%0A%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20function%20stripAndDowncaseText(text)%20%7B%0A%20%20%20%20return%20text.replace(%2F%5Cs%2B%2Fg%2C%20%22%20%22).toLowerCase().trim()%3B%0A%20%20%7D%0A%20%20function%20giveRecommendation(%0A%20%20%20%20cleanVisibleLabel%2C%0A%20%20%20%20cleanAccessibleName%2C%0A%20%20%20%20linkElement%0A%20%20)%20%7B%0A%20%20%20%20let%20recommendation%20%3D%20%5B%5D%3B%0A%20%20%20%20if%20(cleanAccessibleName%20%3D%3D%3D%20%22%22)%20%7B%0A%20%20%20%20%20%20if%20(!linkElement.hasAttribute(%22aria-hidden%22))%0A%20%20%20%20%20%20%20%20recommendation.push(%22%5BLink%20is%20missing%20accessible%20name%5D%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(cleanVisibleLabel%20%26%26%20!(cleanVisibleLabel%20%3D%3D%3D%20cleanAccessibleName))%20%7B%0A%20%20%20%20%20%20const%20veryCleanAccessibleName%20%3D%20stripAndDowncaseText(%0A%20%20%20%20%20%20%20%20removePunctuationAndEmoji(cleanAccessibleName)%0A%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20const%20veryCleanVisibleLabel%20%3D%20stripAndDowncaseText(%0A%20%20%20%20%20%20%20%20removePunctuationAndEmoji(cleanVisibleLabel)%0A%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20!veryCleanAccessibleName.match(%0A%20%20%20%20%20%20%20%20%20%20new%20RegExp(%60%5C%5Cb%24%7BveryCleanVisibleLabel%7D%5C%5Cb%60)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20if%20(%0A%20%20%20%20%20%20%20%20%20%20!linkElement.querySelector(%22svg%22)%20%26%26%0A%20%20%20%20%20%20%20%20%20%20!linkElement.querySelector(%22img%22)%0A%20%20%20%20%20%20%20%20)%20%7B%0A%20%20%20%20%20%20%20%20%20%20recommendation.push(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%5BAccessible%20name%20must%20include%20the%20complete%20visible%20label%5D%22%0A%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20if%20(cleanAccessibleName.match(new%20RegExp(%22%5E%5Cblink%5C%5Cb%22)))%20%7B%0A%20%20%20%20%20%20recommendation.push(%22%5B%60link%60%20text%20in%20accessible%20name%5D%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20(cleanAccessibleName.length%20%3E%20300)%20%7B%0A%20%20%20%20%20%20recommendation.push(%22%5BVery%20long%20accessible%20name%5D%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20if%20(nonTextualLinkText(cleanAccessibleName))%20%7B%0A%20%20%20%20%2F%2F%20%20%20recommendation.push(%20%22%5BAccessible%20name%20contains%20no%20textual%20content%5D%22)%0A%20%20%20%20%2F%2F%20%7D%0A%20%20%20%20if%20(linkElement.href%20%3D%3D%3D%20linkElement.textContent)%20%7B%0A%20%20%20%20%20%20recommendation.push(%22%5BAccessible%20name%20is%20a%20URL%5D%22)%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20recommendation%3B%0A%20%20%7D%0A%0A%20%20function%20tableRow(accessibleName%2C%20visibleLabel%2C%20recommendation)%20%7B%0A%20%20%20%20let%20recommendationHTML%20%3D%20%22%22%3B%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20recommendation.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20recommendationHTML%20%2B%3D%20%60%3Cp%20style%3D%22color%3A%20%23205493%3B%22%3E%24%7Brecommendation%5Bi%5D%7D%3C%2Fp%3E%60%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%22%3Ctr%3E%3Ctd%3E%3Cb%3E%22%20%2B%0A%20%20%20%20%20%20accessibleName%20%2B%0A%20%20%20%20%20%20%22%3C%2Fb%3E%3C%2Ftd%3E%3Ctd%3E%22%20%2B%0A%20%20%20%20%20%20visibleLabel%20%2B%0A%20%20%20%20%20%20%22%3C%2Ftd%3E%3Ctd%3E%22%20%2B%0A%20%20%20%20%20%20recommendationHTML%20%2B%0A%20%20%20%20%20%20%22%3C%2Ftd%3E%3Ctd%3E%22%20%2B%0A%20%20%20%20%20%20%22%3Cbutton%3ELog%20to%20console%20of%20evaluated%20page%3C%2Fbutton%3E%22%20%2B%0A%20%20%20%20%20%20%22%3C%2Ftd%3E%3C%2Ftr%3E%22%0A%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20function%20createReport(array)%20%7B%0A%20%20%20%20let%20table%20%3D%20%60%0A%20%20%20%20%3Ctable%20aria-describedby%3D%22table-note%22%3E%0A%20%20%20%20%20%20%3Ccaption%3EAnalysis%20of%20links%20on%20evaluated%20URL%3C%2Fcaption%3E%0A%20%20%20%20%20%20%3Cthead%20width%3D%2220%25%22%3E%0A%20%20%20%20%20%20%20%20%3Cth%3EAccessible%20name%3C%2Fth%3E%0A%20%20%20%20%20%20%20%20%3Cth%20width%3D%2220%25%22%3EVisible%20label%3C%2Fth%3E%0A%20%20%20%20%20%20%20%20%3Cth%20width%3D%2240%25%22%3EFlag%20%E2%9A%A0%EF%B8%8F%3C%2Fth%3E%0A%20%20%20%20%20%20%20%20%3Cth%20width%3D%2220%25%22%3ELog%20to%20console%3C%2Fth%3E%0A%20%20%20%20%20%20%3C%2Fthead%3E%0A%20%20%20%20%20%20%3Ctbody%3E%0A%20%20%20%20%60%3B%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20array.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20row%20%3D%20tableRow(array%5Bi%5D%5B0%5D%2C%20array%5Bi%5D%5B1%5D%2C%20array%5Bi%5D%5B2%5D)%3B%0A%20%20%20%20%20%20table%20%2B%3D%20row%3B%0A%20%20%20%20%7D%0A%20%20%20%20var%20w%20%3D%20window.open(%22%22)%3B%0A%0A%20%20%20%20w.document.title%20%3D%20%22Links%20report%20for%20%22%20%2B%20document.title%3B%0A%20%20%20%20w.document.body.innerHTML%20%3D%0A%20%20%20%20%20%20%60%3Ch1%3ELinks%20report%20for%20%22%24%7Bdocument.title%7D%22%3C%2Fh1%3E%20%60%20%2B%20firstSection()%20%2B%20table%3B%0A%0A%20%20%20%20let%20buttons%20%3D%20w.document.querySelectorAll(%22button%22)%3B%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20buttons.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20const%20button%20%3D%20buttons%5Bi%5D%3B%0A%20%20%20%20%20%20button.addEventListener(%22click%22%2C%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20console.log(array%5Bi%5D%5B3%5D)%3B%0A%20%20%20%20%20%20%20%20console.log(array%5Bi%5D%5B2%5D.join(%22%5Cn%22))%3B%0A%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%7D%0A%20%20%20%20w.document.head.insertAdjacentHTML(%0A%20%20%20%20%20%20%22beforeend%22%2C%0A%20%20%20%20%20%20%60%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20font-family%3A%20Arial%2C%20Helvetica%2C%20sans-serif%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20table%20%7B%0A%20%20%20%20%20%20%20%20border%3A%201px%20solid%20%23bccbd3%3B%0A%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20svg%2C%20img%20%7B%0A%20%20%20%20%20%20%20%20width%3A%2020px%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20thead%20%7B%0A%20%20%20%20%20%20%20%20background-color%3A%20%23333%3B%0A%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20th%2C%20td%20%7B%0A%20%20%20%20%20%20%20%20border%3A%201px%20solid%20%23bccbd3%3B%0A%20%20%20%20%20%20%20%20padding%3A%205px%3B%0A%20%20%20%20%20%20%20%20text-align%3A%20left%3B%0A%20%20%20%20%20%20%20%20word-wrap%3A%20break-word%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20tr%3Anth-child(even)%20%7Bbackground-color%3A%20%23f2f2f2%3B%7D%0A%0A%20%20%20%20%20%20details%20%7B%0A%20%20%20%20%20%20%20%20border%3A%201px%20solid%20%23aaa%3B%0A%20%20%20%20%20%20%20%20border-radius%3A%204px%3B%0A%20%20%20%20%20%20%20%20padding%3A%20.25em%20.25em%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20summary%20%7B%0A%20%20%20%20%20%20%20%20font-weight%3A%20bold%3B%0A%20%20%20%20%20%20%20%20color%3A%20%23205493%3B%0A%20%20%20%20%20%20%20%20margin%3A%20-.25em%20-.25em%200%3B%0A%20%20%20%20%20%20%20%20padding%3A%20.25em%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%20%20details%5Bopen%5D%20%7B%0A%20%20%20%20%20%20%20%20padding%3A%20.25em%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20details%5Bopen%5D%20summary%20%7B%0A%20%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20%23aaa%3B%0A%20%20%20%20%20%20%20%20margin-bottom%3A%20.5em%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%3C%2Fstyle%3E%0A%20%20%60%0A%20%20%20%20)%3B%0A%20%20%7D%0A%0A%20%20function%20firstSection()%20%7B%0A%20%20%20%20return%20%60%0A%20%20%20%20%3Ch2%3EGuide%3C%2Fh2%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20The%20table%20below%20lists%20the%20visible%20label%20and%2For%20accessible%20name%20for%20all%20(non-hidden)%20links%20on%20the%20evaluated%20URL%20(%3Ca%20href%3D%22%24%7Bwindow.location.href%7D%22%3E%24%7Bwindow.location.href%7D%3C%2Fa%3E).%0A%20%20%20%20%20%20Potential%20issues%20that%20are%20detected%20are%20output%20in%20the%20%22Flag%20%E2%9A%A0%EF%B8%8F%22%20column%20and%20should%20be%20reviewed%20carefully.%0A%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%3Ch3%3EThings%20to%20assess%3C%2Fh3%3E%0A%20%20%20%20%3Cp%3E%20%20%0A%20%20%20%20%20%20Assessing%20link%20accessibility%20always%20requires%20human%20judgement.%20Not%20all%20issues%20will%20appear%20under%20%22Flagged%22%20so%20please%20use%20your%20human%20judgment%20to%20evaluate%20link%20text%20on%20qualities%20such%20as%20meaningfulness.%0A%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%3Cdetails%3E%0A%20%20%20%20%20%20%3Csummary%3EMeaningful%20link%20text%3C%2Fsummary%3E%0A%20%20%20%20%20%20%3Cp%3EIt%20is%20best%20practice%20for%20link%20text%20to%20be%20meaningful%20on%20its%20own.%20It%20is%20required%20for%20%20recommended%20practice%20for%20screen%20reader%20usability%20to%20ensure%20the%20link%20text%20is%20meaningful%20on%20its%20own.%3C%2Fp%3E%0A%20%20%20%20%20%20%3Cp%3ERead%20more%20at%3A%20%3Ca%20href%3D%22https%3A%2F%2Fwww.w3.org%2FWAI%2FWCAG21%2FUnderstanding%2Flink-purpose-link-only%22%3EUnderstanding%20Success%20Criterion%202.4.9%3A%20Link%20Purpose%20(Link%20Only)%3C%2Fa%3E%0A%20%20%20%20%20%20Learn%20more%20about%20the%20related%20concept%3A%20%3Ca%20href%3D%22https%3A%2F%2Fwww.w3.org%2FWAI%2FWCAG21%2FUnderstanding%2Flink-purpose-in-context.html%22%3EUnderstanding%20Success%20Criterion%202.4.4%3A%20Link%20Purpose%20(In%20Context)%3C%2Fa%3E%0A%20%20%20%20%20%20%3Ch5%3EExamples%3C%2Fh5%3E%0A%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%3Cb%3EMeaningful%20link%20text%20%3Cspan%20aria-hidden%3D%22true%22%3E%E2%9C%85%3C%2Fspan%3E%3C%2Fb%3E%3A%20%3Ci%3EHistory%20of%20California%2C%20Cat%20breeds%2C%20Search%20e-mail%3C%2Fi%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%3Cb%3ENon-meaningful%20link%20text%20%3Cspan%20aria-hidden%3D%22true%22%3E%E2%9D%8C%3C%2Fspan%3E%3C%2Fb%3E%3A%20%3Ci%3Ehere%2C%20Read%20more%2C%20click%20here%2C%200171238jd7812%2C%2025%2C%20cool%3C%2Fi%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%20%20%0A%20%20%20%20%3C%2Fdetails%3E%0A%20%20%20%20%3Cdetails%3E%0A%20%20%20%20%20%20%3Csummary%3EAccessible%20name%20must%20include%20the%20complete%20visible%20label%3C%2Fsummary%3E%0A%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20When%20both%20the%20accessible%20name%20and%20visible%20label%20are%20set%2C%20you%20%3Cb%3Emust%3C%2Fb%3E%20ensure%20that%20the%20accessible%20name%20fully%20contains%20the%20visible%20text%20label.%20It%20is%20best%20practice%20to%20have%20the%20accessible%20name%20start%20with%20the%20exact%20visible%20label%20text.%0A%20%20%20%20%20%20%20%20This%20will%20ensure%20that%20speech-input%20users%20who%20activate%20controls%20based%20on%20a%20visible%20label%20can%20interact%20with%20the%20control%20even%20when%20it%20has%20an%20accessible%20name%20override%20that%20isn't%20visually%20obvious.%0A%20%20%20%20%20%20%20%20Sighted%20users%20who%20use%20text-to-speech%20(e.g.%2C%20screen%20readers)%20will%20also%20have%20a%20better%20experience%20if%20the%20text%20they%20hear%20(accessible%20name)%2C%20matches%20the%20text%20they%20see%20on%20the%20screen%20(visible%20label).%0A%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%20%20%3Ch5%3EExamples%3C%2Fh5%3E%0A%20%20%20%20%20%20%3Cp%3E%3Cb%3EValid%20visible%20label%20and%20accessible%20name%20%3Cspan%20aria-hidden%3D%22true%22%3E%E2%9C%85%3C%2Fspan%3E%3A%3C%2Fb%3E%0A%20%20%20%20%20%20%20%20%3Cul%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cb%3EVisible%20label%3C%2Fb%3E%3A%20Learn%20more%2C%20%3Cb%3EAccessible%20name%3C%2Fb%3E%3A%20Learn%20more%20about%20cats%20in%20Texas%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cb%3EVisible%20label%3C%2Fb%3E%3A%20Read%20more%2C%20%3Cb%3EAccessible%20name%3C%2Fb%3E%3A%20Read%20more%20about%20dogs%20%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%3C%2Ful%3E%0A%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%20%20%3Cp%3E%3Cb%3EInvalid%20visible%20label%20and%20accessible%20name%20%3Cspan%20aria-hidden%3D%22true%22%3E%E2%9D%8C%3C%2Fspan%3E%3A%3C%2Fb%3E%0A%20%20%20%20%20%20%20%20%3Cul%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cb%3EVisible%20label%3C%2Fb%3E%3A%20Learn%20more%2C%20%3Cb%3EAccessible%20name%3C%2Fb%3E%3A%20Cats%20in%20Texas%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cb%3EVisible%20label%3C%2Fb%3E%3A%20My%20Website%2C%20%3Cb%3EAccessible%20name%3C%2Fb%3E%3A%20Kate's%20Website%20%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%3C%2Ful%3E%0A%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%20%20%3Cp%3EThis%20is%20a%20Level%20A%20WCAG%20requirement.%20Read%20more%20at%3A%20%3Ca%20href%3D%22https%3A%2F%2Fwww.w3.org%2FWAI%2FWCAG21%2FUnderstanding%2Flabel-in-name%22%3EUnderstanding%20Success%20Criterion%202.5.3%3A%20Label%20in%20Name%3C%2Fa%3E%3C%2Fp%3E%0A%20%20%20%20%3C%2Fdetails%3E%0A%20%20%20%20%3Cdetails%3E%0A%20%20%20%20%20%20%3Csummary%3EAccessible%20name%20contains%20no%20textual%20content%3C%2Fsummary%3E%0A%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20When%20the%20accessible%20name%20is%20entirely%20composed%20of%20non-textual%20content%20(like%20emojis%20or%20punctuation)%2C%20it%20is%20very%20likely%20it%20is%20not%20meaningful.%0A%20%20%20%20%20%20%20%20Please%20make%20sure%20the%20accessible%20name%20is%20meaningful.%0A%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%3C%2Fdetails%3E%0A%20%20%20%20%3Cdetails%3E%0A%20%20%20%20%20%20%3Csummary%3EVery%20long%20accessible%20name%3C%2Fsummary%3E%0A%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20While%20there%20is%20no%20technical%20restriction%2C%20a%20link%20text%20should%20never%20be%20paragraphs%20or%20even%20sentences%20long!%20A%20very%20long%20link%20text%20is%20likely%20to%20frustrate%20screen%20reader%20users%20who%20must%20listen%20to%20the%20link%20text%20word%20by%20word.%0A%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%3C%2Fdetails%3E%0A%20%20%20%20%3Cdetails%3E%0A%20%20%20%20%20%20%3Csummary%3E'link'%20text%20in%20accessible%20name%3C%2Fsummary%3E%0A%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20Assistive%20technologies%20already%20announce%20links%20as%20links%20so%20there%20is%20no%20need%20to%20include%20the%20word%20%22link%22%20as%20part%20of%20the%20accessible%20name.%20However%2C%20if%20%22link%22%20actually%20describes%20the%20destination%20of%20the%20link%2C%20such%20as%20%22Learn%20more%20about%20link%20best%20practices%22%2C%20feel%20free%20to%20ignore%20the%20flag.%0A%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%3C%2Fdetails%3E%0A%20%20%20%20%3Cdetails%3E%0A%20%20%20%20%3Csummary%3EAccessible%20name%20is%20a%20URL%3C%2Fsummary%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20A%20screen%20reader%20announces%20the%20URL%20letter%20by%20letter.%20This%20can%20be%20a%20nuisance%20if%20the%20link%20text%20is%20especially%20long.%0A%20%20%20%20%20%20Consider%20providing%20a%20human-friendly%20label%20for%20the%20link%20rather%20than%20relying%20on%20the%20URL%20as%20the%20link%20text.%0A%20%20%20%20%3C%2Fp%3E%0A%20%20%3C%2Fdetails%3E%0A%20%20%3C%2Fh4%3E%0A%20%20%3Ch2%3ETable%20-%20Analysis%20of%20links%20on%20evaluated%20URL%3C%2Fh2%3E%0A%20%20%3Cp%20id%3D'table-note'%3E%0A%20%20%20%20Column%204%20(Log%20to%20console)%20includes%20a%20button%20that%20will%20allow%20further%20inspect%20of%20a%20given%20link%20element%20if%20necessary.%20Selecting%20the%20button%20will%20result%20in%20a%20console%20output%20of%20the%20element%20in%20the%20browser%20console%20of%20the%20original%20page%20allowing%20for%20further%20browser%20inspection.%0A%20%20%3C%2Fp%3E%0A%20%20%60%3B%0A%20%20%7D%0A%0A%20%20createReport(array)%3B%0A%7D)()%3B%7D)()%3B">Link Checker</a>
</p>
